<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Use of English tests</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <header class="header">
      <h1>Use of English tests</h1>
      <nav class="part-nav" aria-label="Part selection">
        <button type="button" class="part-tab" data-part="path">Guided path</button>
        <button type="button" class="part-tab part-tab-active" data-part="2">Part 2 – Open cloze</button>
        <button type="button" class="part-tab" data-part="3">Part 3 – Word formation</button>
      </nav>
      <p class="subtitle" id="part-subtitle">Part 2 – Open cloze</p>
    </header>

    <main class="main">
      <!-- ========== GUIDED PATH ========== -->
      <div id="path-panel" class="part-panel hidden">
        <section id="path-walkthrough" class="section section-intro">
          <h2>Welcome to the guided path</h2>
          <p>You will work through the <strong>basics of the open cloze</strong>: what the task is, what kinds of words fill each gap, and how to spot the right part of speech. Then you take a short <strong>intro quiz</strong>. If you score at least <strong>70%</strong>, you unlock <strong>Easy</strong> level.</p>
          <h3>What is an open cloze?</h3>
          <p>You read a short text with <strong>eight gaps</strong>. For each gap you write <strong>one word</strong>. The missing words are usually <strong>grammar words</strong> (articles, pronouns, prepositions, conjunctions, auxiliaries, modals) or words that complete <strong>fixed phrases</strong> (e.g. <em>in fact</em>, <em>in order to</em>).</p>
          <h3>How to find the right word</h3>
          <ul>
            <li><strong>Read the whole sentence</strong> and the sentences around the gap.</li>
            <li><strong>Ask: what part of speech fits here?</strong> (article, pronoun, preposition, conjunction, etc.)</li>
            <li>Think about <strong>grammar</strong> (e.g. subject/object, tense, passive, relative clause).</li>
            <li>Watch for <strong>fixed phrases</strong> (e.g. <em>in order to</em>, <em>such as</em>, <em>on the other hand</em>).</li>
          </ul>
          <p class="intro-cta">When you are ready, take the intro quiz below. You need <strong>70%</strong> to unlock Easy level.</p>
          <button type="button" id="path-btn-quiz" class="btn btn-primary">Take intro quiz</button>
        </section>

        <section id="path-quiz" class="section hidden">
          <h2>Intro quiz</h2>
          <p>Answer the 10 questions. You need 70% to unlock Easy level.</p>
          <div id="path-quiz-questions"></div>
          <button type="button" id="path-quiz-submit" class="btn btn-primary">Submit answers</button>
          <div id="path-quiz-result" class="feedback hidden"></div>
        </section>

        <section id="path-levels" class="section hidden">
          <h2>Choose a level</h2>
          <div class="level-grid" id="path-level-grid">
            <button type="button" class="level-card" data-level="easy" id="path-level-easy">Easy</button>
            <button type="button" class="level-card level-locked" data-level="medium" id="path-level-medium">Medium</button>
            <button type="button" class="level-card level-locked" data-level="hard" id="path-level-hard">Hard</button>
            <button type="button" class="level-card level-locked" data-level="expert" id="path-level-expert">Expert</button>
          </div>
          <p class="path-level-hint" id="path-level-hint">Pass the intro quiz with 70% to unlock Easy.</p>
        </section>

        <section id="path-level-intro" class="section hidden">
          <h2 id="path-level-intro-title"></h2>
          <div id="path-level-intro-body"></div>
          <div class="path-level-actions">
            <button type="button" id="path-btn-tests" class="btn btn-primary">Tests</button>
            <button type="button" id="path-btn-cloze" class="btn btn-secondary">Clozemaster</button>
            <button type="button" id="path-btn-back-levels" class="btn btn-secondary">Back to levels</button>
          </div>
        </section>

        <section id="path-level-test-view" class="section section-test hidden">
          <div class="test-header">
            <h2 id="path-test-title"></h2>
          </div>
          <div class="text-with-gaps" id="path-text-with-gaps"></div>
          <div class="test-actions">
            <button type="button" id="path-btn-submit" class="btn btn-primary">Check answers</button>
            <button type="button" id="path-btn-next-test" class="btn btn-secondary hidden">Next test</button>
            <button type="button" id="path-btn-back-level" class="btn btn-secondary">Back to level</button>
          </div>
          <div id="path-feedback" class="feedback hidden"></div>
        </section>

        <section id="path-cloze-view" class="section section-test hidden">
          <h2>Clozemaster – <span id="path-cloze-level-name"></span></h2>
          <p class="path-cloze-sentence" id="path-cloze-sentence"></p>
          <div class="path-cloze-input-row">
            <input type="text" id="path-cloze-input" placeholder="Type the missing word" autocomplete="off">
            <button type="button" id="path-cloze-check" class="btn btn-primary">Check</button>
          </div>
          <div id="path-cloze-feedback" class="feedback hidden"></div>
          <button type="button" id="path-cloze-next" class="btn btn-secondary hidden">Next</button>
          <p class="path-cloze-progress" id="path-cloze-progress"></p>
          <button type="button" id="path-cloze-back" class="btn btn-secondary">Back to level</button>
        </section>
      </div>

      <!-- ========== PART 2 ========== -->
      <div id="part2-panel" class="part-panel">
      <!-- Intro section -->
      <section id="intro" class="section section-intro">
        <h2>About Part 2</h2>
        <p>In Part 2 you read a short text with <strong>eight gaps</strong>. For each gap you must write <strong>one word</strong> that fits. The focus is on grammar and vocabulary that often appear in the exam: articles, pronouns, prepositions, conjunctions, auxiliary and modal verbs, and linking words.</p>
        <h3>Tips</h3>
        <ul>
          <li>Read the whole sentence and the paragraph before choosing your word.</li>
          <li>Think about the grammar (e.g. subject/object, tense, passive).</li>
          <li>Check fixed phrases and collocations (e.g. <em>in order to</em>, <em>such as</em>).</li>
          <li>Only one word per gap – no contractions like <em>don’t</em> count as one word.</li>
        </ul>
        <p class="intro-cta">Below you can read a short guide to <strong>word types</strong> and the <strong>most common words</strong> in Part 2. Then choose a mode and a test to start.</p>
      </section>

      <!-- Tutorial: word types -->
      <section id="tutorial" class="section section-tutorial">
        <h2>Word types in Part 2</h2>
        <p class="tutorial-lead">Part 2 gaps often test <strong>grammar words</strong> – small words that hold the sentence together. Here is what each type means and how it is used.</p>

        <div class="word-types-grid">
          <div class="word-type">
            <h4>Article</h4>
            <p><em>a</em>, <em>an</em>, <em>the</em> – go before a noun. Use <em>a</em>/<em>an</em> for one thing in general; <em>the</em> when we know which one.</p>
            <p class="example">… is <strong>an</strong> international organisation …</p>
          </div>
          <div class="word-type">
            <h4>Pronoun</h4>
            <p><em>it</em>, <em>they</em>, <em>there</em>, <em>this</em>, <em>that</em> – stand for a noun or refer to something. <em>There</em> often means “something exists”.</p>
            <p class="example">When <strong>it</strong> comes to … / <strong>There</strong> are other factors.</p>
          </div>
          <div class="word-type">
            <h4>Preposition</h4>
            <p><em>in</em>, <em>on</em>, <em>at</em>, <em>to</em>, <em>for</em>, <em>with</em>, <em>about</em>, <em>without</em> – show place, time, or link a verb/noun to another word.</p>
            <p class="example">interested <strong>in</strong> photography … <strong>with</strong> the aim of …</p>
          </div>
          <div class="word-type">
            <h4>Relative pronoun / adverb</h4>
            <p><em>which</em>, <em>who</em>, <em>that</em>, <em>where</em> – start a clause that describes a noun. <em>Which</em>/<em>that</em> for things; <em>who</em> for people; <em>where</em> for places.</p>
            <p class="example">… an organisation <strong>which</strong> has 22 members … places <strong>where</strong> you can learn.</p>
          </div>
          <div class="word-type">
            <h4>Auxiliary verb</h4>
            <p><em>be</em> (is, are, was, were, been), <em>have</em>, <em>do</em> – used with another verb for tense, questions, or passive. Passive: “operations <em>are</em> carried out”.</p>
            <p class="example">… operations <strong>are</strong> carried out … would not <strong>be</strong> possible.</p>
          </div>
          <div class="word-type">
            <h4>Modal verb</h4>
            <p><em>can</em>, <em>could</em>, <em>would</em>, <em>will</em>, <em>must</em>, <em>should</em> – express possibility, ability, obligation, or habit.</p>
            <p class="example">… would not be possible … you <strong>should</strong> book in advance.</p>
          </div>
          <div class="word-type">
            <h4>Conjunction</h4>
            <p><em>and</em>, <em>but</em>, <em>because</em>, <em>if</em>, <em>when</em>, <em>that</em> – join two clauses or ideas. <em>If</em>/<em>when</em> introduce conditions or time.</p>
            <p class="example">… harmful <strong>if</strong> they are not disposed of …</p>
          </div>
          <div class="word-type">
            <h4>Linking word / adverb</h4>
            <p><em>however</em>, <em>therefore</em>, <em>such</em>, <em>ever</em>, <em>back</em>, <em>earlier</em> – link sentences or add meaning. Fixed phrases: <em>such as</em>, <em>in order to</em>.</p>
            <p class="example">materials <strong>such</strong> as glass … ten years <strong>earlier</strong>.</p>
          </div>
          <div class="word-type">
            <h4>Determiner</h4>
            <p><em>its</em>, <em>their</em>, <em>both</em>, <em>this</em>, <em>that</em> – go before a noun to show whose or which. <em>Its</em> = belonging to it.</p>
            <p class="example"><strong>Its</strong> head office is in Paris.</p>
          </div>
        </div>

        <h3>Common words in Part 2</h3>
        <p>These words appear very often in open cloze tasks. Learning them helps you spot the right type of gap quickly.</p>
        <div class="common-words">
          <div class="common-words-col">
            <p class="common-words-label">Articles &amp; determiners</p>
            <p><em>a</em>, <em>an</em>, <em>the</em>, <em>its</em>, <em>their</em>, <em>both</em>, <em>this</em>, <em>that</em>, <em>some</em>, <em>any</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Pronouns</p>
            <p><em>it</em>, <em>they</em>, <em>there</em>, <em>what</em>, <em>which</em>, <em>who</em>, <em>that</em>, <em>where</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Prepositions</p>
            <p><em>in</em>, <em>on</em>, <em>at</em>, <em>to</em>, <em>for</em>, <em>with</em>, <em>about</em>, <em>without</em>, <em>of</em>, <em>by</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Auxiliary &amp; modal verbs</p>
            <p><em>is</em>, <em>are</em>, <em>was</em>, <em>were</em>, <em>be</em>, <em>been</em>, <em>have</em>, <em>has</em>, <em>had</em>, <em>do</em>, <em>does</em>, <em>did</em>, <em>can</em>, <em>could</em>, <em>would</em>, <em>will</em>, <em>must</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Conjunctions &amp; linkers</p>
            <p><em>and</em>, <em>but</em>, <em>because</em>, <em>if</em>, <em>when</em>, <em>that</em>, <em>however</em>, <em>therefore</em>, <em>such</em>, <em>as</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Other frequent words</p>
            <p><em>so</em>, <em>than</em>, <em>ever</em>, <em>back</em>, <em>earlier</em>, <em>fact</em>, <em>order</em>, <em>turns</em> (e.g. <em>in order to</em>, <em>such as</em>, <em>take turns</em>, <em>in fact</em>)</p>
          </div>
        </div>
        <p class="tutorial-cta">Use the <strong>Guided – word type</strong> mode when you practise to see which type fits each gap.</p>
      </section>

      <!-- Cheat sheet 1: Grammar words -->
      <section id="cheatsheet-grammar" class="section section-cheatsheet">
        <h2>Part 2 cheat sheet – Grammar words</h2>
        <p class="cheatsheet-intro">Prepositions, conjunctions, articles, pronouns, auxiliaries, modals, adverbs and other grammar words that can fill Part 2 gaps.</p>
        <div id="cheatsheet-grammar-content" class="cheatsheet-content"></div>
      </section>

      <!-- Cheat sheet 2: Fixed phrases -->
      <section id="cheatsheet-fixed" class="section section-cheatsheet">
        <h2>Part 2 cheat sheet – Fixed phrases</h2>
        <p class="cheatsheet-intro">Full phrases that often appear in Part 2. Learn the whole phrase, not just the word that fills the gap.</p>
        <div id="cheatsheet-fixed-content" class="cheatsheet-content"></div>
        <button type="button" id="btn-print-cheatsheet" class="btn btn-secondary">Print cheat sheets</button>
      </section>

      <!-- Mode & test selection -->
      <section id="setup" class="section section-setup">
        <h2>Choose your practice</h2>
        <div class="setup-row">
          <label for="mode">Mode</label>
          <select id="mode">
            <option value="guided-letter">Guided – first letter</option>
            <option value="guided-type">Guided – word type</option>
            <option value="practice">Practice – no hints</option>
          </select>
        </div>
        <div class="setup-row">
          <label for="test-select">Test</label>
          <select id="test-select">
            <option value="">Loading…</option>
          </select>
        </div>
        <button type="button" id="btn-start" class="btn btn-primary">Start test</button>
      </section>

      <!-- Test view (hidden until started) -->
      <section id="test-view" class="section section-test hidden">
        <div class="test-header">
          <h2 id="test-title"></h2>
          <p class="test-mode-hint" id="mode-hint"></p>
        </div>
        <div class="test-instruction">
          Think of the best word to fill each gap. Type <strong>one word</strong> in each box.
        </div>
        <div class="text-with-gaps" id="text-with-gaps"></div>
        <div class="test-actions">
          <button type="button" id="btn-submit" class="btn btn-primary">Check answers</button>
          <button type="button" id="btn-retry" class="btn btn-secondary hidden">Try again</button>
          <button type="button" id="btn-another" class="btn btn-secondary">Another test</button>
        </div>
        <div id="feedback" class="feedback hidden"></div>
      </section>
      </div>
      <!-- end Part 2 panel -->

      <!-- ========== PART 3 ========== -->
      <div id="part3-panel" class="part-panel hidden">
        <!-- Part 3 intro -->
        <section id="p3-intro" class="section section-intro">
          <h2>About Part 3 – Word formation</h2>
          <p>In Part 3 you read a short text with <strong>eight gaps</strong>. Next to each gap you see a word in <strong>capital letters</strong>. You must form a new word from this word (using a prefix, suffix, or both) so that it fits the gap grammatically and in meaning. Sometimes the word stays the same.</p>
          <h3>Prefixes, suffixes and roots</h3>
          <ul>
            <li><strong>Root</strong> – the base word (e.g. <em>agree</em>, <em>success</em>). This is the word given in capitals.</li>
            <li><strong>Prefix</strong> – added at the <strong>start</strong> (e.g. <em>dis</em> + agree → <em>disagree</em>; <em>un</em> + happy → <em>unhappy</em>). Prefixes often change meaning (opposite, not, again).</li>
            <li><strong>Suffix</strong> – added at the <strong>end</strong> (e.g. success + <em>ful</em> → <em>successful</em>; quick + <em>ly</em> → <em>quickly</em>). Suffixes often change the <strong>part of speech</strong> (noun, verb, adjective, adverb).</li>
          </ul>
          <h3>Identifying the part of speech in the gap</h3>
          <p>Before you form the word, ask: <strong>What kind of word fits here?</strong></p>
          <ul>
            <li><strong>Noun</strong> – a thing, person, or idea (often after <em>the</em>, <em>a</em>, <em>of</em>, or as subject/object).</li>
            <li><strong>Verb</strong> – an action or state (often after <em>to</em>, or with a subject).</li>
            <li><strong>Adjective</strong> – describes a noun (e.g. <em>a ___ solution</em>).</li>
            <li><strong>Adverb</strong> – describes a verb, adjective, or another adverb (e.g. <em>speak ___</em>, <em>very ___</em>).</li>
          </ul>
          <p class="intro-cta">Try the exercises below to practise prefixes, suffixes, and identifying part of speech. Then do the guided test, multiple choice test, or full tests.</p>
        </section>

        <!-- Part 3 exercises -->
        <section id="p3-exercises" class="section">
          <h2>Practice exercises</h2>
          <div class="p3-exercise-tabs">
            <button type="button" class="p3-ex-tab active" data-ex="prefix">Prefixes</button>
            <button type="button" class="p3-ex-tab" data-ex="suffix">Suffixes (part of speech)</button>
            <button type="button" class="p3-ex-tab" data-ex="pos">Identify part of speech</button>
          </div>
          <div id="p3-ex-prefix" class="p3-ex-content">
            <p class="p3-ex-desc">Add the correct prefix to the word. Type the full new word.</p>
            <div id="p3-prefix-container"></div>
            <div id="p3-prefix-feedback" class="feedback hidden"></div>
          </div>
          <div id="p3-ex-suffix" class="p3-ex-content hidden">
            <p class="p3-ex-desc">Form the word with the correct part of speech. Type the full word.</p>
            <div id="p3-suffix-container"></div>
            <div id="p3-suffix-feedback" class="feedback hidden"></div>
          </div>
          <div id="p3-ex-pos" class="p3-ex-content hidden">
            <p class="p3-ex-desc">What part of speech fits in the gap? Choose one.</p>
            <div id="p3-pos-container"></div>
            <div id="p3-pos-feedback" class="feedback hidden"></div>
          </div>
        </section>

        <!-- Part 3 tests: guided, MCQ, full -->
        <section id="p3-tests" class="section">
          <h2>Part 3 tests</h2>
          <p>Choose a test type. <strong>Guided</strong> shows part-of-speech hints. <strong>Multiple choice</strong> gives four options per gap. <strong>Full tests</strong> – type the correct word; explanations appear when you check.</p>
          <div class="p3-test-buttons">
            <button type="button" id="p3-btn-guided" class="btn btn-secondary">Guided test (with hints)</button>
            <button type="button" id="p3-btn-mcq" class="btn btn-secondary">Multiple choice test</button>
            <select id="p3-full-select"><option value="">Loading…</option></select>
            <button type="button" id="p3-btn-full" class="btn btn-primary">Start full test</button>
          </div>
        </section>

        <!-- Part 3 test view (shared for guided, MCQ, full) -->
        <section id="p3-test-view" class="section section-test hidden">
          <div class="test-header">
            <h2 id="p3-test-title"></h2>
            <p class="test-mode-hint" id="p3-test-hint"></p>
          </div>
          <div class="test-instruction" id="p3-test-instruction"></div>
          <div class="text-with-gaps" id="p3-text-with-gaps"></div>
          <div class="test-actions">
            <button type="button" id="p3-btn-submit" class="btn btn-primary">Check answers</button>
            <button type="button" id="p3-btn-back" class="btn btn-secondary">Back to Part 3</button>
          </div>
          <div id="p3-feedback" class="feedback hidden"></div>
        </section>

        <!-- Part 3 progress -->
        <section id="p3-progress" class="section">
          <h2>Your progress (Part 3)</h2>
          <div class="progress-summary">
            <p class="progress-stats"><span id="p3-score-label">Score:</span> <strong id="p3-score-value">—</strong> <span id="p3-tests-done">(0 tests)</span></p>
            <p class="progress-percent" id="p3-percent">0%</p>
          </div>
          <div class="progress-chart" id="p3-chart" aria-label="Score history"></div>
          <p class="progress-note">Scores are saved in this browser. Clear site data to reset.</p>
        </section>
      </div>
      <!-- end Part 3 panel -->
    </main>

    <footer class="footer">
      <p>Part 2 (open cloze) and Part 3 (word formation). Add tests in <code>tests.json</code> and <code>tests-part3.json</code>.</p>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
