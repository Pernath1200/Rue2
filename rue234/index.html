<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Use of English tests</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <header class="header">
      <h1>Use of English tests</h1>
      <button type="button" id="btn-back-home" class="btn btn-back hidden">← Back</button>
    </header>

    <main class="main">
      <!-- ========== HOME – Two options only ========== -->
      <div id="home-panel" class="part-panel">
        <section class="section home-cards">
          <h2>Choose a section</h2>
          <div class="home-card-grid">
            <button type="button" id="home-part2" class="home-card">
              <span class="home-card-title">Part 2: Open Cloze</span>
              <span class="home-card-desc">Fill the gaps with one word. Focus on grammar words and fixed phrases.</span>
            </button>
            <button type="button" id="home-part3" class="home-card">
              <span class="home-card-title">Part 3: Word Formation</span>
              <span class="home-card-desc">Form new words from the given word. Prefixes, suffixes, and part of speech.</span>
            </button>
          </div>
        </section>
      </div>

      <!-- ========== PART 2 – Open Cloze ========== -->
      <div id="part2-panel" class="part-panel hidden">
        <!-- Part 2 choice: Intro/Rules/Quiz or Practice -->
        <div id="part2-choice" class="part2-section">
          <section class="section home-cards">
            <h2>Part 2: Open Cloze</h2>
            <p class="part2-choice-lead">Choose what you want to do:</p>
            <div class="home-card-grid">
              <button type="button" id="part2-intro-btn" class="home-card">
                <span class="home-card-title">Intro, Rules and Quiz</span>
                <span class="home-card-desc">Learn about the task, grammar categories, and reference sheets.</span>
              </button>
              <button type="button" id="part2-practice-btn" class="home-card">
                <span class="home-card-title">Practice</span>
                <span class="home-card-desc">Do practice tests, guided path, or Clozemaster-style exercises.</span>
              </button>
            </div>
          </section>
        </div>

        <!-- Intro, Rules and Quiz section (hidden until selected) -->
        <div id="part2-intro-section" class="part2-section hidden">
          <p><a href="#" id="part2-intro-back" class="link-back">← Back</a></p>
          <h2 class="part2-main-title">Intro, Rules and Quiz</h2>
        <nav class="part2-category-nav" aria-label="Grammar categories">
          <button type="button" class="category-tab part-tab-active" data-category="general">General</button>
          <button type="button" class="category-tab" data-category="parts-of-speech">Parts of Speech</button>
          <button type="button" class="category-tab" data-category="determiners">Determiners</button>
          <button type="button" class="category-tab" data-category="prepositions">Prepositions</button>
          <button type="button" class="category-tab" data-category="auxiliary">Auxiliary verbs</button>
          <button type="button" class="category-tab" data-category="conjunctions">Conjunctions &amp; linkers</button>
          <button type="button" class="category-tab" data-category="pronouns">Pronouns</button>
          <button type="button" class="category-tab" data-category="phrasal-verbs">Phrasal verbs</button>
          <button type="button" class="category-tab" data-category="comparatives">Comparatives &amp; superlatives</button>
          <button type="button" class="category-tab" data-category="negatives">Negatives &amp; inversion</button>
          <button type="button" class="category-tab" data-category="fixed-expressions">Fixed expressions</button>
          <button type="button" class="category-tab" data-category="reference">Reference</button>
        </nav>

        <!-- Category content panels -->
        <div id="part2-category-content" class="part2-category-content">
          <!-- General -->
          <div id="category-general" class="category-panel">
            <div id="general-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="general-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="general-intro-page-indicator">1 / 5</span>
                <button type="button" id="general-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="general-intro-content" class="intro-content"></div>
              <button type="button" id="general-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="general-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about the general rules.</p>
              <div id="general-mc-questions"></div>
              <button type="button" id="general-mc-submit" class="btn btn-primary">Submit</button>
              <div id="general-mc-result" class="feedback hidden"></div>
              <button type="button" id="general-mc-continue" class="btn btn-primary hidden">Continue to short questions</button>
            </div>
            <div id="general-short-quiz" class="category-quiz-section hidden">
              <h3>Short questions</h3>
              <p>Answer briefly. Spelling counts.</p>
              <div id="general-short-questions"></div>
              <button type="button" id="general-short-submit" class="btn btn-primary">Submit</button>
              <div id="general-short-result" class="feedback hidden"></div>
              <button type="button" id="general-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="general-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="general-optional-questions"></div>
              <button type="button" id="general-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Parts of Speech -->
          <div id="category-parts-of-speech" class="category-panel hidden">
            <div id="pos-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="pos-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="pos-intro-page-indicator">1 / 5</span>
                <button type="button" id="pos-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="pos-intro-content" class="intro-content"></div>
              <button type="button" id="pos-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="pos-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about parts of speech.</p>
              <div id="pos-mc-questions"></div>
              <button type="button" id="pos-mc-submit" class="btn btn-primary">Submit</button>
              <div id="pos-mc-result" class="feedback hidden"></div>
              <button type="button" id="pos-mc-continue" class="btn btn-primary hidden">Continue to short questions</button>
            </div>
            <div id="pos-short-quiz" class="category-quiz-section hidden">
              <h3>Short questions</h3>
              <p>Answer briefly. Spelling counts.</p>
              <div id="pos-short-questions"></div>
              <button type="button" id="pos-short-submit" class="btn btn-primary">Submit</button>
              <div id="pos-short-result" class="feedback hidden"></div>
              <button type="button" id="pos-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="pos-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="pos-optional-questions"></div>
              <button type="button" id="pos-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Determiners -->
          <div id="category-determiners" class="category-panel hidden">
            <div id="det-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="det-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="det-intro-page-indicator">1 / 5</span>
                <button type="button" id="det-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="det-intro-content" class="intro-content"></div>
              <button type="button" id="det-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="det-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about determiners.</p>
              <div id="det-mc-questions"></div>
              <button type="button" id="det-mc-submit" class="btn btn-primary">Submit</button>
              <div id="det-mc-result" class="feedback hidden"></div>
              <button type="button" id="det-mc-continue" class="btn btn-primary hidden">Continue to short questions</button>
            </div>
            <div id="det-short-quiz" class="category-quiz-section hidden">
              <h3>Short questions</h3>
              <p>Answer briefly. Spelling counts.</p>
              <div id="det-short-questions"></div>
              <button type="button" id="det-short-submit" class="btn btn-primary">Submit</button>
              <div id="det-short-result" class="feedback hidden"></div>
              <button type="button" id="det-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="det-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="det-optional-questions"></div>
              <button type="button" id="det-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Prepositions -->
          <div id="category-prepositions" class="category-panel hidden">
            <div id="prep-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="prep-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="prep-intro-page-indicator">1 / 9</span>
                <button type="button" id="prep-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="prep-intro-content" class="intro-content"></div>
              <button type="button" id="prep-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="prep-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 8 questions about prepositions.</p>
              <div id="prep-mc-questions"></div>
              <button type="button" id="prep-mc-submit" class="btn btn-primary">Submit</button>
              <div id="prep-mc-result" class="feedback hidden"></div>
              <button type="button" id="prep-mc-continue" class="btn btn-primary hidden">Continue to short questions</button>
            </div>
            <div id="prep-short-quiz" class="category-quiz-section hidden">
              <h3>Short questions</h3>
              <p>Answer briefly. Spelling counts.</p>
              <div id="prep-short-questions"></div>
              <button type="button" id="prep-short-submit" class="btn btn-primary">Submit</button>
              <div id="prep-short-result" class="feedback hidden"></div>
              <button type="button" id="prep-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="prep-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="prep-optional-questions"></div>
              <button type="button" id="prep-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Auxiliary verbs -->
          <div id="category-auxiliary" class="category-panel hidden">
            <div id="aux-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="aux-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="aux-intro-page-indicator">1 / 5</span>
                <button type="button" id="aux-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="aux-intro-content" class="intro-content"></div>
              <button type="button" id="aux-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="aux-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about auxiliary verbs.</p>
              <div id="aux-mc-questions"></div>
              <button type="button" id="aux-mc-submit" class="btn btn-primary">Submit</button>
              <div id="aux-mc-result" class="feedback hidden"></div>
              <button type="button" id="aux-mc-continue" class="btn btn-primary hidden">Continue to short questions</button>
            </div>
            <div id="aux-short-quiz" class="category-quiz-section hidden">
              <h3>Short questions</h3>
              <p>Answer briefly. Spelling counts.</p>
              <div id="aux-short-questions"></div>
              <button type="button" id="aux-short-submit" class="btn btn-primary">Submit</button>
              <div id="aux-short-result" class="feedback hidden"></div>
              <button type="button" id="aux-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="aux-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="aux-optional-questions"></div>
              <button type="button" id="aux-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Conjunctions and linkers -->
          <div id="category-conjunctions" class="category-panel hidden">
            <div id="conj-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="conj-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="conj-intro-page-indicator">1 / 5</span>
                <button type="button" id="conj-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="conj-intro-content" class="intro-content"></div>
              <button type="button" id="conj-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="conj-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about conjunctions and linkers.</p>
              <div id="conj-mc-questions"></div>
              <button type="button" id="conj-mc-submit" class="btn btn-primary">Submit</button>
              <div id="conj-mc-result" class="feedback hidden"></div>
              <button type="button" id="conj-mc-continue" class="btn btn-primary hidden">Continue to error correction</button>
            </div>
            <div id="conj-short-quiz" class="category-quiz-section hidden">
              <h3>Error correction</h3>
              <p>Correct each sentence. Write the corrected version. Spelling counts.</p>
              <div id="conj-short-questions"></div>
              <button type="button" id="conj-short-submit" class="btn btn-primary">Submit</button>
              <div id="conj-short-result" class="feedback hidden"></div>
              <button type="button" id="conj-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="conj-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="conj-optional-questions"></div>
              <button type="button" id="conj-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Pronouns -->
          <div id="category-pronouns" class="category-panel hidden">
            <div id="pron-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="pron-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="pron-intro-page-indicator">1 / 5</span>
                <button type="button" id="pron-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="pron-intro-content" class="intro-content"></div>
              <button type="button" id="pron-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="pron-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about pronouns and relative pronouns.</p>
              <div id="pron-mc-questions"></div>
              <button type="button" id="pron-mc-submit" class="btn btn-primary">Submit</button>
              <div id="pron-mc-result" class="feedback hidden"></div>
              <button type="button" id="pron-mc-continue" class="btn btn-primary hidden">Continue to error correction</button>
            </div>
            <div id="pron-short-quiz" class="category-quiz-section hidden">
              <h3>Error correction</h3>
              <p>Correct each sentence. Write the corrected version. Spelling counts.</p>
              <div id="pron-short-questions"></div>
              <button type="button" id="pron-short-submit" class="btn btn-primary">Submit</button>
              <div id="pron-short-result" class="feedback hidden"></div>
              <button type="button" id="pron-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="pron-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="pron-optional-questions"></div>
              <button type="button" id="pron-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Phrasal verbs -->
          <div id="category-phrasal-verbs" class="category-panel hidden">
            <div id="pv-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="pv-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="pv-intro-page-indicator">1 / 5</span>
                <button type="button" id="pv-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="pv-intro-content" class="intro-content"></div>
              <button type="button" id="pv-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="pv-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about phrasal verbs.</p>
              <div id="pv-mc-questions"></div>
              <button type="button" id="pv-mc-submit" class="btn btn-primary">Submit</button>
              <div id="pv-mc-result" class="feedback hidden"></div>
              <button type="button" id="pv-mc-continue" class="btn btn-primary hidden">Continue to error correction</button>
            </div>
            <div id="pv-short-quiz" class="category-quiz-section hidden">
              <h3>Error correction</h3>
              <p>Correct each sentence. Write the corrected version. Spelling counts.</p>
              <div id="pv-short-questions"></div>
              <button type="button" id="pv-short-submit" class="btn btn-primary">Submit</button>
              <div id="pv-short-result" class="feedback hidden"></div>
              <button type="button" id="pv-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="pv-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="pv-optional-questions"></div>
              <button type="button" id="pv-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Comparatives and superlatives -->
          <div id="category-comparatives" class="category-panel hidden">
            <div id="comp-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="comp-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="comp-intro-page-indicator">1 / 5</span>
                <button type="button" id="comp-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="comp-intro-content" class="intro-content"></div>
              <button type="button" id="comp-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="comp-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about comparatives and superlatives.</p>
              <div id="comp-mc-questions"></div>
              <button type="button" id="comp-mc-submit" class="btn btn-primary">Submit</button>
              <div id="comp-mc-result" class="feedback hidden"></div>
              <button type="button" id="comp-mc-continue" class="btn btn-primary hidden">Continue to error correction</button>
            </div>
            <div id="comp-short-quiz" class="category-quiz-section hidden">
              <h3>Error correction</h3>
              <p>Correct each sentence. Write the corrected version. Spelling counts.</p>
              <div id="comp-short-questions"></div>
              <button type="button" id="comp-short-submit" class="btn btn-primary">Submit</button>
              <div id="comp-short-result" class="feedback hidden"></div>
              <button type="button" id="comp-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="comp-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="comp-optional-questions"></div>
              <button type="button" id="comp-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Negatives and inversion -->
          <div id="category-negatives" class="category-panel hidden">
            <div id="neg-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="neg-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="neg-intro-page-indicator">1 / 5</span>
                <button type="button" id="neg-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="neg-intro-content" class="intro-content"></div>
              <button type="button" id="neg-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="neg-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about negatives and inversion.</p>
              <div id="neg-mc-questions"></div>
              <button type="button" id="neg-mc-submit" class="btn btn-primary">Submit</button>
              <div id="neg-mc-result" class="feedback hidden"></div>
              <button type="button" id="neg-mc-continue" class="btn btn-primary hidden">Continue to error correction</button>
            </div>
            <div id="neg-short-quiz" class="category-quiz-section hidden">
              <h3>Error correction</h3>
              <p>Correct each sentence. Write the corrected version. Spelling counts.</p>
              <div id="neg-short-questions"></div>
              <button type="button" id="neg-short-submit" class="btn btn-primary">Submit</button>
              <div id="neg-short-result" class="feedback hidden"></div>
              <button type="button" id="neg-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="neg-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="neg-optional-questions"></div>
              <button type="button" id="neg-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Fixed expressions -->
          <div id="category-fixed-expressions" class="category-panel hidden">
            <div id="fix-intro" class="category-intro-flow">
              <div class="intro-nav">
                <button type="button" id="fix-intro-prev" class="btn btn-secondary" disabled>← Previous</button>
                <span class="intro-page-indicator" id="fix-intro-page-indicator">1 / 5</span>
                <button type="button" id="fix-intro-next" class="btn btn-secondary">Next →</button>
              </div>
              <div id="fix-intro-content" class="intro-content"></div>
              <button type="button" id="fix-intro-start-quiz" class="btn btn-primary hidden">Start quiz</button>
            </div>
            <div id="fix-mc-quiz" class="category-quiz-section hidden">
              <h3>Multiple choice quiz</h3>
              <p>Answer these 7 questions about fixed expressions.</p>
              <div id="fix-mc-questions"></div>
              <button type="button" id="fix-mc-submit" class="btn btn-primary">Submit</button>
              <div id="fix-mc-result" class="feedback hidden"></div>
              <button type="button" id="fix-mc-continue" class="btn btn-primary hidden">Continue to error correction</button>
            </div>
            <div id="fix-short-quiz" class="category-quiz-section hidden">
              <h3>Error correction</h3>
              <p>Correct each sentence. Write the corrected version. Spelling counts.</p>
              <div id="fix-short-questions"></div>
              <button type="button" id="fix-short-submit" class="btn btn-primary">Submit</button>
              <div id="fix-short-result" class="feedback hidden"></div>
              <button type="button" id="fix-short-continue" class="btn btn-primary hidden">Continue to optional questions</button>
            </div>
            <div id="fix-optional-section" class="category-quiz-section hidden">
              <h3>Optional: longer questions</h3>
              <p>Reflect on these questions. Click to see a suggested answer.</p>
              <div id="fix-optional-questions"></div>
              <button type="button" id="fix-optional-more" class="btn btn-secondary">More practice</button>
              <div class="category-test-actions" style="margin-top: 1.5rem;">
                <a href="#" class="cat-go-practice btn btn-primary">Go to practice</a>
              </div>
            </div>
          </div>

          <!-- Reference -->
          <div id="category-reference" class="category-panel hidden">
            <h3>Reference</h3>
            <p>Reference sheets for grammar words and fixed phrases that often appear in Part 2. Use these for reference when practising.</p>
            <nav class="ref-sub-nav" aria-label="Reference pages">
              <button type="button" class="ref-sub-tab ref-sub-tab-active" data-ref="grammar">Useful grammar words</button>
              <button type="button" class="ref-sub-tab" data-ref="fixed">Fixed phrases</button>
            </nav>
            <div id="ref-grammar" class="ref-sub-panel">
              <h2>Useful grammar words</h2>
              <p class="cheatsheet-intro">Prepositions, conjunctions, articles, pronouns, auxiliaries, modals, adverbs and other grammar words that can fill Part 2 gaps.</p>
              <div id="cheatsheet-grammar-content" class="cheatsheet-content"></div>
            </div>
            <div id="ref-fixed" class="ref-sub-panel hidden">
              <h2>Fixed phrases</h2>
              <p class="cheatsheet-intro">Full phrases that often appear in Part 2. Learn the whole phrase, not just the word that fills the gap.</p>
              <div id="cheatsheet-fixed-content" class="cheatsheet-content"></div>
            </div>
            <div class="category-test-actions" style="margin-top: 1.5rem;">
              <a href="#" id="part2-ref-go-practice" class="btn btn-primary">Go to practice</a>
            </div>
          </div>
        </div>
        </div>

        <!-- Part 2 Practice section (hidden until selected) -->
        <div id="part2-practice-section" class="part2-section hidden">
          <p><a href="#" id="part2-practice-back" class="link-back">← Back</a></p>
        <div id="part2-practice" class="part2-practice-section section">
          <h2>Practice – Tests</h2>
          <p><a href="#" id="part2-go-to-reference" class="link-secondary">View reference sheets</a></p>
          <p class="practice-sub-nav"><a href="#" id="part2-show-guided" class="link-secondary">Guided path (quiz + levels)</a></p>
      <!-- Guided path (hidden by default) -->
      <div id="path-panel" class="part2-sub-panel hidden">
        <p><a href="#" id="path-back-to-practice" class="link-back">← Back to practice</a></p>
        <section id="path-walkthrough" class="section section-intro">
          <h2>Welcome to the guided path</h2>
          <p>You will work through the <strong>basics of the open cloze</strong>: what the task is, what kinds of words fill each gap, and how to spot the right part of speech. Then you take a short <strong>intro quiz</strong>. If you score at least <strong>70%</strong>, you unlock <strong>Easy</strong> level.</p>
          <h3>What is an open cloze?</h3>
          <p>You read a short text with <strong>eight gaps</strong>. For each gap you write <strong>one word</strong>. The missing words are usually <strong>grammar words</strong> (articles, pronouns, prepositions, conjunctions, auxiliaries, modals) or words that complete <strong>fixed phrases</strong> (e.g. <em>in fact</em>, <em>in order to</em>).</p>
          <h3>How to find the right word</h3>
          <ul>
            <li><strong>Read the whole sentence</strong> and the sentences around the gap.</li>
            <li><strong>Ask: what part of speech fits here?</strong> (article, pronoun, preposition, conjunction, etc.)</li>
            <li>Think about <strong>grammar</strong> (e.g. subject/object, tense, passive, relative clause).</li>
            <li>Watch for <strong>fixed phrases</strong> (e.g. <em>in order to</em>, <em>such as</em>, <em>on the other hand</em>).</li>
          </ul>
          <p class="intro-cta">When you are ready, take the intro quiz below. You need <strong>70%</strong> to unlock Easy level.</p>
          <button type="button" id="path-btn-quiz" class="btn btn-primary">Take intro quiz</button>
        </section>

        <section id="path-quiz" class="section hidden">
          <h2>Intro quiz</h2>
          <p>Answer the 10 questions. You need 70% to unlock Easy level.</p>
          <div id="path-quiz-questions"></div>
          <button type="button" id="path-quiz-submit" class="btn btn-primary">Submit answers</button>
          <div id="path-quiz-result" class="feedback hidden"></div>
        </section>

        <section id="path-levels" class="section hidden">
          <h2>Choose a level</h2>
          <div class="level-grid" id="path-level-grid">
            <button type="button" class="level-card" data-level="easy" id="path-level-easy">Easy</button>
            <button type="button" class="level-card level-locked" data-level="medium" id="path-level-medium">Medium</button>
            <button type="button" class="level-card level-locked" data-level="hard" id="path-level-hard">Hard</button>
            <button type="button" class="level-card level-locked" data-level="expert" id="path-level-expert">Expert</button>
          </div>
          <p class="path-level-hint" id="path-level-hint">Pass the intro quiz with 70% to unlock Easy.</p>
        </section>

        <section id="path-level-intro" class="section hidden">
          <h2 id="path-level-intro-title"></h2>
          <div id="path-level-intro-body"></div>
          <div class="path-level-actions">
            <button type="button" id="path-btn-tests" class="btn btn-primary">Tests</button>
            <button type="button" id="path-btn-cloze" class="btn btn-secondary">Clozemaster</button>
            <button type="button" id="path-btn-back-levels" class="btn btn-secondary">Back to levels</button>
          </div>
        </section>

        <section id="path-level-test-view" class="section section-test hidden">
          <div class="test-header">
            <h2 id="path-test-title"></h2>
          </div>
          <div class="text-with-gaps" id="path-text-with-gaps"></div>
          <div class="test-actions">
            <button type="button" id="path-btn-submit" class="btn btn-primary">Check answers</button>
            <button type="button" id="path-btn-next-test" class="btn btn-secondary hidden">Next test</button>
            <button type="button" id="path-btn-back-level" class="btn btn-secondary">Back to level</button>
          </div>
          <div id="path-feedback" class="feedback hidden"></div>
        </section>

        <section id="path-cloze-view" class="section section-test hidden">
          <h2>Clozemaster – <span id="path-cloze-level-name"></span></h2>
          <p class="path-cloze-sentence" id="path-cloze-sentence"></p>
          <div class="path-cloze-input-row">
            <input type="text" id="path-cloze-input" placeholder="Type the missing word" autocomplete="off">
            <button type="button" id="path-cloze-check" class="btn btn-primary">Check</button>
          </div>
          <div id="path-cloze-feedback" class="feedback hidden"></div>
          <button type="button" id="path-cloze-next" class="btn btn-secondary hidden">Next</button>
          <p class="path-cloze-progress" id="path-cloze-progress"></p>
          <button type="button" id="path-cloze-back" class="btn btn-secondary">Back to level</button>
        </section>
      </div>

      <!-- Reference sheets and tests (default practice view) -->
      <div id="part2-practice-panel" class="part2-sub-panel">
      <section id="intro" class="section section-intro hidden">
        <h2>About Part 2</h2>
        <p>In Part 2 you read a short text with <strong>eight gaps</strong>. For each gap you must write <strong>one word</strong> that fits. The focus is on grammar and vocabulary that often appear in the exam: articles, pronouns, prepositions, conjunctions, auxiliary and modal verbs, and linking words.</p>
        <h3>Tips</h3>
        <ul>
          <li>Read the whole sentence and the paragraph before choosing your word.</li>
          <li>Think about the grammar (e.g. subject/object, tense, passive).</li>
          <li>Check fixed phrases and collocations (e.g. <em>in order to</em>, <em>such as</em>).</li>
          <li>Only one word per gap – no contractions like <em>don’t</em> count as one word.</li>
        </ul>
        <p class="intro-cta">Below you can read a short guide to <strong>word types</strong> and the <strong>most common words</strong> in Part 2. Then choose a mode and a test to start.</p>
      </section>

      <!-- Tutorial: word types -->
      <section id="tutorial" class="section section-tutorial">
        <h2>Word types in Part 2</h2>
        <p class="tutorial-lead">Part 2 gaps often test <strong>grammar words</strong> – small words that hold the sentence together. Here is what each type means and how it is used.</p>

        <div class="word-types-grid">
          <div class="word-type">
            <h4>Article</h4>
            <p><em>a</em>, <em>an</em>, <em>the</em> – go before a noun. Use <em>a</em>/<em>an</em> for one thing in general; <em>the</em> when we know which one.</p>
            <p class="example">… is <strong>an</strong> international organisation …</p>
          </div>
          <div class="word-type">
            <h4>Pronoun</h4>
            <p><em>it</em>, <em>they</em>, <em>there</em>, <em>this</em>, <em>that</em> – stand for a noun or refer to something. <em>There</em> often means “something exists”.</p>
            <p class="example">When <strong>it</strong> comes to … / <strong>There</strong> are other factors.</p>
          </div>
          <div class="word-type">
            <h4>Preposition</h4>
            <p><em>in</em>, <em>on</em>, <em>at</em>, <em>to</em>, <em>for</em>, <em>with</em>, <em>about</em>, <em>without</em> – show place, time, or link a verb/noun to another word.</p>
            <p class="example">interested <strong>in</strong> photography … <strong>with</strong> the aim of …</p>
          </div>
          <div class="word-type">
            <h4>Relative pronoun / adverb</h4>
            <p><em>which</em>, <em>who</em>, <em>that</em>, <em>where</em> – start a clause that describes a noun. <em>Which</em>/<em>that</em> for things; <em>who</em> for people; <em>where</em> for places.</p>
            <p class="example">… an organisation <strong>which</strong> has 22 members … places <strong>where</strong> you can learn.</p>
          </div>
          <div class="word-type">
            <h4>Auxiliary verb</h4>
            <p><em>be</em> (is, are, was, were, been), <em>have</em>, <em>do</em> – used with another verb for tense, questions, or passive. Passive: “operations <em>are</em> carried out”.</p>
            <p class="example">… operations <strong>are</strong> carried out … would not <strong>be</strong> possible.</p>
          </div>
          <div class="word-type">
            <h4>Modal verb</h4>
            <p><em>can</em>, <em>could</em>, <em>would</em>, <em>will</em>, <em>must</em>, <em>should</em> – express possibility, ability, obligation, or habit.</p>
            <p class="example">… would not be possible … you <strong>should</strong> book in advance.</p>
          </div>
          <div class="word-type">
            <h4>Conjunction</h4>
            <p><em>and</em>, <em>but</em>, <em>because</em>, <em>if</em>, <em>when</em>, <em>that</em> – join two clauses or ideas. <em>If</em>/<em>when</em> introduce conditions or time.</p>
            <p class="example">… harmful <strong>if</strong> they are not disposed of …</p>
          </div>
          <div class="word-type">
            <h4>Linking word / adverb</h4>
            <p><em>however</em>, <em>therefore</em>, <em>such</em>, <em>ever</em>, <em>back</em>, <em>earlier</em> – link sentences or add meaning. Fixed phrases: <em>such as</em>, <em>in order to</em>.</p>
            <p class="example">materials <strong>such</strong> as glass … ten years <strong>earlier</strong>.</p>
          </div>
          <div class="word-type">
            <h4>Determiner</h4>
            <p><em>its</em>, <em>their</em>, <em>both</em>, <em>this</em>, <em>that</em> – go before a noun to show whose or which. <em>Its</em> = belonging to it.</p>
            <p class="example"><strong>Its</strong> head office is in Paris.</p>
          </div>
        </div>

        <h3>Common words in Part 2</h3>
        <p>These words appear very often in open cloze tasks. Learning them helps you spot the right type of gap quickly.</p>
        <div class="common-words">
          <div class="common-words-col">
            <p class="common-words-label">Articles &amp; determiners</p>
            <p><em>a</em>, <em>an</em>, <em>the</em>, <em>its</em>, <em>their</em>, <em>both</em>, <em>this</em>, <em>that</em>, <em>some</em>, <em>any</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Pronouns</p>
            <p><em>it</em>, <em>they</em>, <em>there</em>, <em>what</em>, <em>which</em>, <em>who</em>, <em>that</em>, <em>where</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Prepositions</p>
            <p><em>in</em>, <em>on</em>, <em>at</em>, <em>to</em>, <em>for</em>, <em>with</em>, <em>about</em>, <em>without</em>, <em>of</em>, <em>by</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Auxiliary &amp; modal verbs</p>
            <p><em>is</em>, <em>are</em>, <em>was</em>, <em>were</em>, <em>be</em>, <em>been</em>, <em>have</em>, <em>has</em>, <em>had</em>, <em>do</em>, <em>does</em>, <em>did</em>, <em>can</em>, <em>could</em>, <em>would</em>, <em>will</em>, <em>must</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Conjunctions &amp; linkers</p>
            <p><em>and</em>, <em>but</em>, <em>because</em>, <em>if</em>, <em>when</em>, <em>that</em>, <em>however</em>, <em>therefore</em>, <em>such</em>, <em>as</em></p>
          </div>
          <div class="common-words-col">
            <p class="common-words-label">Other frequent words</p>
            <p><em>so</em>, <em>than</em>, <em>ever</em>, <em>back</em>, <em>earlier</em>, <em>fact</em>, <em>order</em>, <em>turns</em> (e.g. <em>in order to</em>, <em>such as</em>, <em>take turns</em>, <em>in fact</em>)</p>
          </div>
        </div>
        <p class="tutorial-cta">Use the <strong>Guided – word type</strong> mode when you practise to see which type fits each gap.</p>
      </section>

      <!-- Mode & test selection -->
      <section id="setup" class="section section-setup">
        <h2>Choose your practice</h2>
        <div class="setup-row">
          <label for="mode">Mode</label>
          <select id="mode">
            <option value="guided-letter">Guided – first letter</option>
            <option value="guided-type">Guided – word type</option>
            <option value="practice">Practice – no hints</option>
          </select>
        </div>
        <div class="setup-row">
          <label for="test-select">Test</label>
          <select id="test-select">
            <option value="">Loading…</option>
          </select>
        </div>
        <button type="button" id="btn-start" class="btn btn-primary">Start test</button>
      </section>

      <!-- Test view (hidden until started) -->
      <section id="test-view" class="section section-test hidden">
        <div class="test-header">
          <h2 id="test-title"></h2>
          <p class="test-mode-hint" id="mode-hint"></p>
        </div>
        <div class="test-instruction">
          Think of the best word to fill each gap. Type <strong>one word</strong> in each box.
        </div>
        <div class="text-with-gaps" id="text-with-gaps"></div>
        <div class="test-actions">
          <button type="button" id="btn-submit" class="btn btn-primary">Check answers</button>
          <button type="button" id="btn-retry" class="btn btn-secondary hidden">Try again</button>
          <button type="button" id="btn-another" class="btn btn-secondary">Another test</button>
        </div>
        <div id="feedback" class="feedback hidden"></div>
      </section>
      </div>
      <!-- end part2-practice-panel -->
      </div>
      <!-- end part2-practice -->
      </div>
      <!-- end part2-practice-section -->

      </div>
      <!-- end Part 2 panel -->

      <!-- ========== PART 3 ========== -->
      <div id="part3-panel" class="part-panel hidden">
        <!-- Part 3 intro -->
        <section id="p3-intro" class="section section-intro">
          <h2>About Part 3 – Word formation</h2>
          <p>In Part 3 you read a short text with <strong>eight gaps</strong>. Next to each gap you see a word in <strong>capital letters</strong>. You must form a new word from this word (using a prefix, suffix, or both) so that it fits the gap grammatically and in meaning. Sometimes the word stays the same.</p>
          <h3>Prefixes, suffixes and roots</h3>
          <ul>
            <li><strong>Root</strong> – the base word (e.g. <em>agree</em>, <em>success</em>). This is the word given in capitals.</li>
            <li><strong>Prefix</strong> – added at the <strong>start</strong> (e.g. <em>dis</em> + agree → <em>disagree</em>; <em>un</em> + happy → <em>unhappy</em>). Prefixes often change meaning (opposite, not, again).</li>
            <li><strong>Suffix</strong> – added at the <strong>end</strong> (e.g. success + <em>ful</em> → <em>successful</em>; quick + <em>ly</em> → <em>quickly</em>). Suffixes often change the <strong>part of speech</strong> (noun, verb, adjective, adverb).</li>
          </ul>
          <h3>Identifying the part of speech in the gap</h3>
          <p>Before you form the word, ask: <strong>What kind of word fits here?</strong></p>
          <ul>
            <li><strong>Noun</strong> – a thing, person, or idea (often after <em>the</em>, <em>a</em>, <em>of</em>, or as subject/object).</li>
            <li><strong>Verb</strong> – an action or state (often after <em>to</em>, or with a subject).</li>
            <li><strong>Adjective</strong> – describes a noun (e.g. <em>a ___ solution</em>).</li>
            <li><strong>Adverb</strong> – describes a verb, adjective, or another adverb (e.g. <em>speak ___</em>, <em>very ___</em>).</li>
          </ul>
          <p class="intro-cta">Try the exercises below to practise prefixes, suffixes, and identifying part of speech. Then do the guided test, multiple choice test, or full tests.</p>
        </section>

        <!-- Part 3 exercises -->
        <section id="p3-exercises" class="section">
          <h2>Practice exercises</h2>
          <div class="p3-exercise-tabs">
            <button type="button" class="p3-ex-tab active" data-ex="prefix">Prefixes</button>
            <button type="button" class="p3-ex-tab" data-ex="suffix">Suffixes (part of speech)</button>
            <button type="button" class="p3-ex-tab" data-ex="pos">Identify part of speech</button>
          </div>
          <div id="p3-ex-prefix" class="p3-ex-content">
            <p class="p3-ex-desc">Add the correct prefix to the word. Type the full new word.</p>
            <div id="p3-prefix-container"></div>
            <div id="p3-prefix-feedback" class="feedback hidden"></div>
          </div>
          <div id="p3-ex-suffix" class="p3-ex-content hidden">
            <p class="p3-ex-desc">Form the word with the correct part of speech. Type the full word.</p>
            <div id="p3-suffix-container"></div>
            <div id="p3-suffix-feedback" class="feedback hidden"></div>
          </div>
          <div id="p3-ex-pos" class="p3-ex-content hidden">
            <p class="p3-ex-desc">What part of speech fits in the gap? Choose one.</p>
            <div id="p3-pos-container"></div>
            <div id="p3-pos-feedback" class="feedback hidden"></div>
          </div>
        </section>

        <!-- Part 3 tests: guided, MCQ, full -->
        <section id="p3-tests" class="section">
          <h2>Part 3 tests</h2>
          <p>Choose a test type. <strong>Guided</strong> shows part-of-speech hints. <strong>Multiple choice</strong> gives four options per gap. <strong>Full tests</strong> – type the correct word; explanations appear when you check.</p>
          <div class="p3-test-buttons">
            <button type="button" id="p3-btn-guided" class="btn btn-secondary">Guided test (with hints)</button>
            <button type="button" id="p3-btn-mcq" class="btn btn-secondary">Multiple choice test</button>
            <select id="p3-full-select"><option value="">Loading…</option></select>
            <button type="button" id="p3-btn-full" class="btn btn-primary">Start full test</button>
          </div>
        </section>

        <!-- Part 3 test view (shared for guided, MCQ, full) -->
        <section id="p3-test-view" class="section section-test hidden">
          <div class="test-header">
            <h2 id="p3-test-title"></h2>
            <p class="test-mode-hint" id="p3-test-hint"></p>
          </div>
          <div class="test-instruction" id="p3-test-instruction"></div>
          <div class="text-with-gaps" id="p3-text-with-gaps"></div>
          <div class="test-actions">
            <button type="button" id="p3-btn-submit" class="btn btn-primary">Check answers</button>
            <button type="button" id="p3-btn-back" class="btn btn-secondary">Back to Part 3</button>
          </div>
          <div id="p3-feedback" class="feedback hidden"></div>
        </section>

        <!-- Part 3 progress -->
        <section id="p3-progress" class="section">
          <h2>Your progress (Part 3)</h2>
          <div class="progress-summary">
            <p class="progress-stats"><span id="p3-score-label">Score:</span> <strong id="p3-score-value">—</strong> <span id="p3-tests-done">(0 tests)</span></p>
            <p class="progress-percent" id="p3-percent">0%</p>
          </div>
          <div class="progress-chart" id="p3-chart" aria-label="Score history"></div>
          <p class="progress-note">Scores are saved in this browser. Clear site data to reset.</p>
        </section>
      </div>
      <!-- end Part 3 panel -->
    </main>

    <footer class="footer">
      <p>Part 2 (open cloze) and Part 3 (word formation). Add tests in <code>tests.json</code> and <code>tests-part3.json</code>.</p>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
